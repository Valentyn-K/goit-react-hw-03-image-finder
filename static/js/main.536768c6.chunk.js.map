{"version":3,"sources":["components/Loader/Loader.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Seachbar.module.css","components/Searchbar/Searchbar.js","services/services.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css"],"names":["module","exports","Searchbar","onHandleSubmit","onSearchQueryChange","value","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","defaultProps","alert","baseUrl","key","requestParams","axiosRequest","searchQuery","pageNumber","axios","get","ImageGalleryItem","image","id","Date","now","webformatURL","largeImageURL","tags","onClick","e","src","data-url","alt","ImageGalleryItemImage","ImageGallery","ListRef","createRef","handleClick","current","target","props","onHandleClickOnImage","ref","this","images","map","Component","Button","onLoadMoreButtonClick","buttonWrapper","Load","loaderOverlay","loader","color","height","width","timeout","Modal","backdropRef","handleKeyPress","code","onCloseModal","handleBackdropClick","window","addEventListener","removeEventListener","Backdrop","largeURL","App","LisrRef","state","isLoading","isModalOpen","imageOpenedInModal","imagesRequest","setState","then","data","prevState","hits","catch","error","console","log","finally","handleSearchbarInputChange","handleSearchbarFormSubmit","preventDefault","handleLoadMoreButtonClick","handleClickOnImage","dataset","url","handleCloseModal","prevProps","Loader","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.536768c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderOverlay\":\"Loader_loaderOverlay__1fovd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Modal_Backdrop__1_xQ7\",\"Modal\":\"Modal_Modal__rLx1R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3BrRI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Seachbar_Searchbar__1scKq\",\"SearchForm\":\"Seachbar_SearchForm__2jqu6\",\"SearchFormButton\":\"Seachbar_SearchFormButton__1kZth\",\"SearchFormButtonLabel\":\"Seachbar_SearchFormButtonLabel__3oPeT\",\"SearchFormInput\":\"Seachbar_SearchFormInput__nEGj2\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Seachbar.module.css\";\r\n\r\nconst Searchbar = ({ onHandleSubmit, onSearchQueryChange, value }) => (\r\n  <header className={styles.Searchbar}>\r\n    <form className={styles.SearchForm} onSubmit={onHandleSubmit}>\r\n      <button type=\"submit\" className={styles.SearchFormButton}>\r\n        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        onChange={onSearchQueryChange}\r\n        className={styles.SearchFormInput}\r\n        type=\"text\"\r\n        value={value}\r\n        // autocomplete=\"off\"\r\n        // autofocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onHandleSubmit: PropTypes.func.isRequired,\r\n  onSearchQueryChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\n\r\nSearchbar.defaultProps = {\r\n  onHandleSubmit: () => {\r\n    alert(\"Something went wrong... Try to reload this page\");\r\n  },\r\n  onSearchQueryChange: () => {\r\n    alert(\"Something went wrong... Try to reload this page\");\r\n  },\r\n  value: \"\",\r\n};\r\n","import axios from \"axios\";\r\n\r\n// const headers = new Headers({\r\n//   Authorization: \"&key=15837694-cfd882bdab50e7e30ec0ef461\",\r\n// });\r\n\r\n// const options = {\r\n//   headers,\r\n//   credentials: \"include\",\r\n// };\r\n\r\nconst baseUrl = \"https://pixabay.com/api/?q=\";\r\nconst page = \"&page=\";\r\nconst key = \"&key=15837694-cfd882bdab50e7e30ec0ef461\";\r\nconst requestParams = \"&image_type=photo&orientation=horizontal&per_page=12\";\r\n\r\nexport const axiosRequest = (searchQuery, pageNumber = 1) => {\r\n  return axios.get(\r\n    baseUrl + searchQuery + page + pageNumber + key + requestParams\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({\r\n  image: {\r\n    id = Date.now,\r\n    webformatURL = \"https://www.gsb.stanford.edu/sites/gsb/files/resources/internetbroken_0.gif\",\r\n    largeImageURL = \"https://www.gsb.stanford.edu/sites/gsb/files/resources/internetbroken_0.gif\",\r\n    tags = \"image not found\",\r\n  },\r\n  onClick,\r\n}) => (\r\n  <li key={id} className={styles.ImageGalleryItem}>\r\n    <img\r\n      onClick={(e) => onClick(e)}\r\n      src={webformatURL}\r\n      data-url={largeImageURL}\r\n      alt={tags}\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  ListRef = createRef();\r\n\r\n  static propTypes = {\r\n    onHandleClickOnImage: PropTypes.func.isRequired,\r\n    images: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n      }).isRequired\r\n    ).isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    onHandleClickOnImage: () => {\r\n      alert(\"Something went wrong... Try to reload this page\");\r\n    },\r\n    images: [],\r\n  };\r\n\r\n  handleClick = (e) => {\r\n    if (this.ListRef.current && e.target === this.ListRef.current) return;\r\n    this.props.onHandleClickOnImage(e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ul\r\n        className={styles.ImageGallery}\r\n        ref={this.ListRef}\r\n        onClick={this.handleClick}\r\n      >\r\n        {this.props.images.map((image) => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            onClick={this.handleClick}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.css\";\r\nconst Button = ({ onLoadMoreButtonClick }) => (\r\n  <div className={styles.buttonWrapper}>\r\n    <button onClick={() => onLoadMoreButtonClick()} className={styles.Button}>\r\n      Load More\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onLoadMoreButtonClick: PropTypes.func.isRequired,\r\n};\r\n\r\nButton.defaultProps = {\r\n  onLoadMoreButtonClick: () => {\r\n    alert(\"Something went wrong... Try to reload this page\");\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nconst Load = () => (\r\n  <div className={styles.loaderOverlay}>\r\n    <Loader\r\n      className={styles.loader}\r\n      type=\"Oval\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={10000}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default Load;\r\n","import React, { Component, createRef } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    largeURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    onCloseModal: () => {\r\n      alert(\"Something went wrong... Try to reload this page\");\r\n    },\r\n    largeURL:\r\n      \"https://www.gsb.stanford.edu/sites/gsb/files/resources/internetbroken_0.gif\",\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    const { current } = this.backdropRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.Backdrop}\r\n        onClick={this.handleBackdropClick}\r\n        ref={this.backdropRef}\r\n      >\r\n        <img src={this.props.largeURL} alt=\"img\" className={styles.Modal} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, createRef } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport { axiosRequest } from \"../../services/services\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\n\nexport default class App extends Component {\n  LisrRef = createRef();\n\n  state = {\n    images: [],\n    searchQuery: \"\",\n    pageNumber: 1,\n    isLoading: false,\n    isModalOpen: false,\n    imageOpenedInModal: null,\n  };\n  //func to do reuest to PIXABAY and set state\n  imagesRequest = (\n    searchQuery = this.state.searchQuery,\n    pageNumber = this.state.pageNumber\n  ) => {\n    this.setState({ isLoading: true });\n    axiosRequest(searchQuery, pageNumber)\n      .then(({ data }) =>\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...data.hits],\n            pageNumber: prevState.pageNumber + 1,\n          };\n        })\n      )\n      .catch((error) => console.log(error))\n      .finally(\n        this.setState({ isLoading: false })\n        //   window.scrollTo({\n        //     top: document.documentElement.scrollHeight,\n        //     behavior: \"smooth\",\n        //   })\n      );\n  };\n\n  // clear \"this.state.images\" & \"this.state.pageNumber\" if user input new request\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ images: [], pageNumber: 1 });\n    }\n  }\n\n  //set searchQuery into state\n  handleSearchbarInputChange = (e) => {\n    this.setState({ searchQuery: e.target.value });\n  };\n\n  //do reuest to PIXABAY and set state after submiting the form\n  handleSearchbarFormSubmit = (e) => {\n    e.preventDefault();\n    this.imagesRequest();\n  };\n\n  //do reuest for the next page of images and set state after clicking the Load More Button\n  handleLoadMoreButtonClick = () => {\n    this.imagesRequest();\n  };\n\n  handleClickOnImage = (e) => {\n    this.setState({\n      isModalOpen: true,\n      imageOpenedInModal: e.target.dataset.url,\n    });\n  };\n\n  handleCloseModal = () => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const {\n      images,\n      searchQuery,\n      isLoading,\n      isModalOpen,\n      imageOpenedInModal,\n    } = this.state;\n    return (\n      <>\n        <Searchbar\n          value={searchQuery}\n          onHandleSubmit={this.handleSearchbarFormSubmit}\n          onSearchQueryChange={this.handleSearchbarInputChange}\n        />\n        {isLoading && <Loader />}\n        {images.length > 0 && (\n          <ImageGallery\n            ref={this.LisrRef}\n            onHandleClickOnImage={this.handleClickOnImage}\n            images={images}\n          />\n        )}\n        {images.length > 0 && (\n          <Button onLoadMoreButtonClick={this.handleLoadMoreButtonClick} />\n        )}\n        {isModalOpen && (\n          <Modal\n            largeURL={imageOpenedInModal}\n            onCloseModal={this.handleCloseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2ARtk\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1IF0c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonWrapper\":\"Button_buttonWrapper__GfNM4\",\"Button\":\"Button_Button__1gi3S\"};"],"sourceRoot":""}